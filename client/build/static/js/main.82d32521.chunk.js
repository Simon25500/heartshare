(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){e.exports=n(213)},112:function(e,t,n){},114:function(e,t,n){},19:function(e,t,n){e.exports=n.p+"static/media/logo_home.ffb43085.svg"},213:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(45),c=n.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(10),s=n(8),i=n(95),u=n(96),m=n.n(u),p=n(22),d=n(12),h=n(64),f=(n(112),n(4)),b=n(5),g=n(6),y=n(7),v=n(19),E=n.n(v),j=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"home h-screen"},o.a.createElement("div",null,o.a.createElement("img",{className:"mx-auto pt-40",src:E.a,alt:"logo HeartShare",height:"400",width:"400"}),o.a.createElement("div",null,o.a.createElement("h2",{className:"text-2xl text-center mt-20 font-bold"},"See you soon ",o.a.createElement("a",{href:"/home"},o.a.createElement("span",{"aria-label":"emoji-heart",role:"img"},"\ud83d\ude0d"))))))}}]),n}(a.Component),x=n(13);var O=function(){return{type:"USER_SET",payload:fetch("/api/auth/islog",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()}))}},w=function(){return{type:"CARD_SET",payload:fetch("/api/event/index",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return e.json()}))}},N=function(e){var t=fetch("/api/event/near",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return e.json}));return console.log(e),{type:"CARD_SET",payload:t}},C=function(e){return{type:"CAT_SET",payload:e||fetch("/api/category/index",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return e.json}))}},k=function(e){return{type:"ASSOC_SET",payload:e||fetch("/api/association/index",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return e.json}))}},S=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"componentWillMount",value:function(){this.props.isLog()}},{key:"render",value:function(){return null===this.props.user||null===this.props.user.userId?o.a.createElement("div",{className:"profilemenu absolute bg-gray-400"},o.a.createElement(x.a,{to:"/connexion"},o.a.createElement("div",{className:"p-5 border"},o.a.createElement("p",{className:"block profile text-center"},"Connexion"))),o.a.createElement(x.a,{to:"/inscription"},o.a.createElement("div",{className:"p-5 border"},o.a.createElement("p",{className:"block profile text-center"},"Inscription")))):(console.log(this.props.user),o.a.createElement("div",null," coucou"))}}]),n}(a.Component),T=Object(l.b)((function(e){return{user:e.user}}),(function(e){return Object(s.b)({isLog:O},e)}))(S),A=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(f.a)(this,n),(a=t.call(this,e)).handleClick=function(){!1===a.state.active?a.setState({active:!0}):a.setState({active:!1})},a.state={active:!1},a}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"relative"},o.a.createElement("div",{onClick:this.handleClick,className:"profile h-16 w-16 bg-gray-400 rounded-full bg-cover bg-bottom ",style:{backgroundImage:"url(https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png)"}}),!0===this.state.active?o.a.createElement(T,null):"")}}]),n}(a.Component),_=n(98),I=n.n(_),z=(n(114),function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).change=function(){e.style,e.style="search shadow appearance-none border rounded-full w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},e.onClick=function(t){e.props.setNear(t)},e.style="shadow appearance-none border rounded-full w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",e}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"py-5 px-10 flex justify-between items-center"},o.a.createElement(x.a,{to:"/home"},o.a.createElement("img",{src:E.a,alt:"logo HeartShare",height:"150",width:"150"})),o.a.createElement(I.a,{placeholder:"Rechercher par villes",className:this.style,id:"address-input",type:"search",options:{appId:"plU5Y3A0QOV9",apiKey:"b279fc45a0ef9b6d77da799f3dc3ed7f",language:"fr",countries:["fr"],type:"city"},onChange:function(t){t.query,t.rawAnswer;var n=t.suggestion;t.suggestionIndex;return e.onClick(n.latlng)},onSuggestions:function(e){e.rawAnswer,e.query,e.suggestions;return console.log("Fired when dropdown receives suggestions. You will receive the array of suggestions that are displayed.")},onCursorChanged:function(e){e.rawAnswer,e.query,e.suggestion,e.suggestonIndex;return console.log("Fired when arrows keys are used to navigate suggestions.")},onClear:function(){return e.props.cardSet()},onLimit:function(e){e.message;return console.log("Fired when you reached your current rate limit.")},onError:function(e){e.message;return console.log("Fired when we could not make the request to Algolia Places servers for any reason but reaching your rate limit.")}}),o.a.createElement(A,null))}}]),n}(a.Component)),F=Object(l.b)(null,(function(e){return Object(s.b)({setNear:N,cardSet:w},e)}))(z),P=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).position={},e.geoFindMe=function(){navigator.geolocation.getCurrentPosition((function(t){var n={lat:t.coords.latitude,lng:t.coords.longitude};e.position=n}),(function(){return null}))},e.onClickNear=function(){e.props.setNear(e.position)},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.geoFindMe()}},{key:"render",value:function(){return o.a.createElement("div",{className:"flex justify-between mx-8 "},o.a.createElement("div",{onClick:this.onClickNear,className:"cursor-pointer choice py-2 w-1/4 bg-gray-300 rounded-md text-center"},o.a.createElement("p",{className:"font-bold"},"Pr\xe8s de chez vous")),o.a.createElement(x.a,{to:"/category/index",className:"cursor-pointer choice py-2 w-1/4 bg-gray-300 rounded-md text-center"},o.a.createElement("div",null,o.a.createElement("p",{className:"font-bold"},"Category"))),o.a.createElement(x.a,{to:"/associations/index",className:"cursor-pointer choice py-2 w-1/4 bg-gray-300 rounded-md text-center"},o.a.createElement("div",null,o.a.createElement("p",{className:"font-bold"},"Toutes les associations"))))}}]),n}(a.Component),R=Object(l.b)(null,(function(e){return Object(s.b)({setNear:N,cardSet:w,setCat:C},e)}))(P),q=n(115),M=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"block bg-gray-400 w-64 h-64 text-center"},o.a.createElement(q,{name:"calendar",className:"text-6xl mt-10 opacity-25"}),o.a.createElement("p",{className:"p-10 text-gray-700"},"Connectez vous pour voir vos evenement"))}}]),n}(a.Component),D=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:" mt-20 mx-8 flex justify-between"},o.a.createElement("div",{className:"hidden md:block"},o.a.createElement(M,null),o.a.createElement("div",{className:"actu mt-10 w-64 h-64"})),o.a.createElement("div",{className:"flex-grow md:ml-10 flex flex-col lg:flex-row bg-gray-400"},this.props.component))}}]),n}(a.Component),H=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"welcome w-full h-full p-10 "},o.a.createElement("h1",{className:"text-2xl font-bold text-center"},"Bienvenue sur HeartShare"),o.a.createElement("p",{className:"mt-20 text-center text-lg"},"Vous voulez vous engager en tant que b\xe9n\xe9vole, faire des dons ou m\xeame donnez votre sang ? HeartShare r\xe9pertorie toutes les \xe9v\xe9nement et association pour vous aidez \xe0 trouver une bonne action qui vous correspond."),o.a.createElement("p",{className:"mt-20 text-lg text-center"},"On a besoin d'aide pr\xe8s de chez vous, cliquez ",o.a.createElement("a",{href:"/home",className:"font-bold"},"ici")," ou cherchez votre ville dans la barre de recherche."))}}]),n}(a.Component),J=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(F,null),o.a.createElement(R,null),o.a.createElement("div",null,o.a.createElement(D,{component:o.a.createElement(H,null)})))}}]),n}(a.Component),U=n(215),B=n(214),G=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).onSubmit=function(t){e.props.inscription(t,(function(t){return e.props.history.push("/home"),t}))},e}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("img",{className:"mx-auto pt-5",src:E.a,alt:"logo HeartShare",height:"400",width:"400"}),o.a.createElement("div",{className:"mt- mx-auto p-5 bg-red-600 w-1/2 max-w-screen-md rounded-lg "},o.a.createElement("p",{className:"text-xl font-bold  text-center"},"Inscription"),o.a.createElement("div",{className:" w-3/4 max-w-lg mx-auto"},o.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:" px-8 pt-6 pb-8 mb-4"},o.a.createElement("div",{className:"mb-4"},o.a.createElement("label",{className:"block  text-sm font-bold mb-2",htmlFor:"email"},"Email"),o.a.createElement(U.a,{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",label:"email",name:"email",component:"input"})),o.a.createElement("div",{className:"mb-6"},o.a.createElement("label",{className:"block  text-sm font-bold mb-2"},"Password"),o.a.createElement(U.a,{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",label:"password",name:"password",type:"password",component:"input",placeholder:"******************"})),o.a.createElement("div",{className:"flex items-center justify-between"},o.a.createElement("button",{className:"bg-white hover:bg-red-200 text-red-600 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",disabled:this.props.pristine||this.props.submitting},"Inscription"))))))}}]),n}(a.Component),L=Object(B.a)({form:"inscription"})(Object(l.b)(null,{inscription:function(e,t){return fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token)})).then(t),{type:"USER_SET",payload:localStorage.getItem("token")}}})(G)),W=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).onSubmit=function(t){e.props.connexion(t,(function(t){return e.props.history.push("/home"),t}))},e}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("img",{className:"mx-auto pt-5",src:E.a,alt:"logo HeartShare",height:"400",width:"400"}),o.a.createElement("div",{className:"mt- mx-auto p-5 bg-red-600 w-1/2 max-w-screen-md rounded-lg "},o.a.createElement("p",{className:"text-xl font-bold  text-center"},"Connexion"),o.a.createElement("div",{className:" w-3/4 max-w-lg mx-auto"},o.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:" px-8 pt-6 pb-8 mb-4"},o.a.createElement("div",{className:"mb-4"},o.a.createElement("label",{className:"block  text-sm font-bold mb-2",htmlFor:"email"},"Email"),o.a.createElement(U.a,{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",label:"email",name:"email",component:"input"})),o.a.createElement("div",{className:"mb-6"},o.a.createElement("label",{className:"block  text-sm font-bold mb-2"},"Password"),o.a.createElement(U.a,{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",label:"password",name:"password",type:"password",component:"input",placeholder:"******************"})),o.a.createElement("div",{className:"flex items-center justify-between"},o.a.createElement("button",{className:"bg-white hover:bg-red-200 text-red-600 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",disabled:this.props.pristine||this.props.submitting},"Connexion"),o.a.createElement("a",{className:"ml-5 inline-block align-baseline font-bold text-sm text-white hover:text-red-200",href:"/home"},"Forgot Password?"))))))}}]),n}(a.Component),V=Object(B.a)({form:"connexion"})(Object(l.b)(null,{connexion:function(e,t){return fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token)})).then(t),{type:"USER_SET",payload:localStorage.getItem("token")}}})(W)),Y=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).onClick=function(){e.props.setCat([e.props.cat]),e.props.setAssoc(e.props.cat.associations)},e}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement(x.a,{onClick:this.onClick,to:"/category/".concat(this.props.cat._id),className:"bg-gray-300 shadow-sm flex items-center justify-center h-20 rounded"},o.a.createElement("p",{className:"text-lg font-bold"},this.props.name))}}]),n}(a.Component),K=Object(l.b)(null,(function(e){return Object(s.b)({setCat:C,setAssoc:k},e)}))(Y),Q=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).componentDidMount=function(){e.props.setCat()},e}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"h-full body p-5 grid grid-cols-2 gap-2 overflow-y-scroll",id:"scroll"},this.props.category.map((function(e){return o.a.createElement(K,{key:e._id,name:e.name,cat:e})})))}}]),n}(a.Component),$=Object(l.b)((function(e){return{category:e.category}}),(function(e){return Object(s.b)({setCat:C},e)}))(Q),X=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(F,null),o.a.createElement(R,null),o.a.createElement("div",null,o.a.createElement(D,{component:o.a.createElement($,null)})))}}]),n}(a.Component),Z=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e={backgroundImage:"url(".concat(this.props.img,")")};return o.a.createElement(x.a,{to:"/associations/".concat(this.props.id),className:"cursor-pointer flex border-solid border-b border-gray-600"},o.a.createElement("div",{className:"w-64 h-24 bg-white bg-no-repeat bg-contain bg-center",style:e}),o.a.createElement("div",{className:"p-2 flex justify-between w-full"},o.a.createElement("div",{className:"flex flex-col justify-between h-full"},o.a.createElement("p",{className:"text-sm font-bold"},this.props.name),o.a.createElement("p",{className:"text-sm font-bold"}))))}}]),n}(a.Component),ee=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.assoc?this.props.setCat().then((function(){var t=e.props.category.find((function(t){return t._id===e.props.id}));e.props.setAssoc(t.associations)})):this.props.setAssoc()}},{key:"render",value:function(){return o.a.createElement("div",{className:"w-full body overflow-y-scroll lg:grid  lg:grid-cols-2 ",id:"scroll"},this.props.association.map((function(e){return o.a.createElement(Z,{key:e._id,id:e._id,name:e.name,img:e.img_url,cat:e.category.name})})))}}]),n}(a.Component),te=Object(l.b)((function(e){return{association:e.association,category:e.category}}),(function(e){return Object(s.b)({setAssoc:k,setCat:C},e)}))(ee),ne=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(F,null),o.a.createElement(R,null),o.a.createElement("div",null,o.a.createElement(D,{component:o.a.createElement(te,{assoc:"category",id:this.props.match.params.id})})))}}]),n}(a.Component),ae=n(216),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SET":return t.payload;default:return e}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARD_SET":return t.payload;default:return e}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CAT_SET":return t.payload;default:return e}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ASSOC_SET":return t.payload;default:return e}},se=function(e){Object(y.a)(n,e);var t=Object(g.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(F,null),o.a.createElement(R,null),o.a.createElement("div",null,o.a.createElement(D,{component:o.a.createElement(te,null)})))}}]),n}(a.Component),ie=Object(s.c)({form:ae.a,user:oe,cards:re,category:ce,association:le,routing:h.routerReducer}),ue=Object(d.a)(),me=Object(s.a)(m.a,i.logger,Object(h.routerMiddleware)(ue));c.a.render(o.a.createElement(l.a,{store:Object(s.d)(ie,{},me)},o.a.createElement(p.b,{history:ue},o.a.createElement(p.c,null,o.a.createElement(p.a,{path:"/",exact:!0,component:j}),o.a.createElement(p.a,{path:"/home",exact:!0,component:J}),o.a.createElement(p.a,{path:"/connexion",exact:!0,component:V}),o.a.createElement(p.a,{path:"/inscription",exact:!0,component:L}),o.a.createElement(p.a,{path:"/category/index",exact:!0,component:X}),o.a.createElement(p.a,{path:"/category/:id",exact:!0,component:ne}),o.a.createElement(p.a,{path:"/associations/index",exact:!0,component:se})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[100,1,2]]]);
//# sourceMappingURL=main.82d32521.chunk.js.map